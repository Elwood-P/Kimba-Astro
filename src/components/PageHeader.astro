---
import kimbaLogo from '../images/ui/kimba-logo.svg';
import Button from './UI/Button.astro';
---

<header class="relative || flex justify-between items-center || w-full min-h-[36px] px-6 mt-8">
  <a href="/">
    <img src={kimbaLogo} width="92" height="24" alt="Kimba Design" />
    <span class="sr-only">Kimba</span>
  </a>

  <nav class="flex space-x-8 items-center">
    <div
      id="header-nav"
      class="hidden || fixed z-20 || inset-0 flex flex-col items-center justify-center space-y-8 || bg-chalk bg-opacity-90 animated fade-out || text-fl-400"
    >
      <!-- flex space-x-6 items-center || text-fl-300 leading-none -->
      <a class="mt-[-8vh] || hover:text-gray-700" href="/">Home</a>
      <a class="hover:text-gray-700" href="/posts">Blog</a>
      <Button className="max-md:button--sm" href="#footer">Contact</Button>
    </div>
  </nav>

  <div class="flex items-center || z-30">
    <button id="header-nav-button">
      <svg id="header-nav-button__icon-open" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"
        ><path fill="#3E4251" d="M0 2h18v2H0zM0 8h18v2H0zM0 14h18v2H0z"></path></svg
      >
      <svg id="header-nav-button__icon-closed" class="hidden" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"
        ><path fill="#3E4251" d="M1.93 14.657 14.656 1.929l1.414 1.414L3.343 16.071z"></path><path
          fill="#454342"
          d="m3.343 1.929 12.728 12.728-1.414 1.414L1.929 3.343z"></path></svg
      >
    </button>
  </div>
</header>

<script>
  const headernav = document.getElementById('header-nav');
  const headernavButton = document.getElementById('header-nav-button');
  const headernavButtonOpen = document.getElementById('header-nav-button__icon-open');
  const headernavButtonClosed = document.getElementById('header-nav-button__icon-closed');

  headernavButton.addEventListener('click', toggleNav);
  headernav.addEventListener('click', toggleNav);

  function toggleNav() {
    headernav.classList.toggle('hidden');
    headernav.classList.toggle('fade-out');
    headernav.classList.toggle('fade-in');
    headernavButtonOpen.classList.toggle('hidden');
    headernavButtonClosed.classList.toggle('hidden');
  }
</script>

<style>
  .animated {
    animation-duration: 0.2s;
    animation-fill-mode: both;
    backdrop-filter: blur(3px);
  }

  .fade-out {
    animation-name: fadeOut;
  }

  .fade-in {
    animation-name: fadeIn;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    0% {
      opacity: 1;
    }

    to {
      opacity: 0;
    }
  }
</style>
